(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[31],{"/nr7":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=1e3},"0LUh":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("cpVT"),i=n("BGKE"),a=(n("q1tI"),n("pDQI"));function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e){return Object(i.c)(a.a,o(o({strokeWidth:3},e),{},{children:[Object(i.b)("path",{d:"M1 12C1 12 5 4 12 4C19 4 23 12 23 12C23 12 19 20 12 20C5 20 1 12 1 12Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(i.b)("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}))}},"4loE":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("cpVT"),i=n("BGKE"),a=(n("q1tI"),n("pDQI"));function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e){return Object(i.b)(a.a,o(o({},e),{},{children:Object(i.b)("path",{d:"M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}))}},DqZZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("xvhg"),i=n("q1tI"),a=n("GemG"),c=n.n(a);function o(){var e=i.useState(null),t=Object(r.a)(e,2),n=t[0],a=t[1];return i.useLayoutEffect((function(){if(n)return c()(n),function(){c.a.destroy(n)}}),[n]),{ref:a,update:function(){n&&c.a.update(n)}}}},EKQb:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("cpVT"),i=n("BGKE"),a=(n("q1tI"),n("pDQI"));function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e){return Object(i.c)(a.a,o(o({strokeWidth:3},e),{},{children:[Object(i.b)("path",{d:"M9.9 4.24002C10.5883 4.0789 11.2931 3.99836 12 4.00003C19 4.00003 23 12 23 12C22.393 13.1356 21.6691 14.2048 20.84 15.19M14.12 14.12C13.8454 14.4148 13.5141 14.6512 13.1462 14.8151C12.7782 14.9791 12.3809 15.0673 11.9781 15.0744C11.5753 15.0815 11.1752 15.0074 10.8016 14.8565C10.4281 14.7056 10.0887 14.4811 9.80385 14.1962C9.51897 13.9113 9.29439 13.572 9.14351 13.1984C8.99262 12.8249 8.91853 12.4247 8.92563 12.0219C8.93274 11.6191 9.02091 11.2219 9.18488 10.8539C9.34884 10.4859 9.58525 10.1547 9.88 9.88003M17.94 17.94C16.2306 19.243 14.1491 19.9649 12 20C5 20 1 12 1 12C2.24389 9.68192 3.96914 7.65663 6.06 6.06003L17.94 17.94Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(i.b)("path",{d:"M1 1L23 23",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}))}},GemG:function(e,t,n){var r,i,a;i=[e,t],void 0===(a="function"===typeof(r=function(e,t){"use strict";var n="function"===typeof Map?new Map:function(){var e=[],t=[];return{has:function(t){return e.indexOf(t)>-1},get:function(n){return t[e.indexOf(n)]},set:function(n,r){-1===e.indexOf(n)&&(e.push(n),t.push(r))},delete:function(n){var r=e.indexOf(n);r>-1&&(e.splice(r,1),t.splice(r,1))}}}(),r=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(l){r=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function i(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!n.has(e)){var t=null,i=null,a=null,c=function(){e.clientWidth!==i&&u()},o=function(t){window.removeEventListener("resize",c,!1),e.removeEventListener("input",u,!1),e.removeEventListener("keyup",u,!1),e.removeEventListener("autosize:destroy",o,!1),e.removeEventListener("autosize:update",u,!1),Object.keys(t).forEach((function(n){e.style[n]=t[n]})),n.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",o,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",u,!1),window.addEventListener("resize",c,!1),e.addEventListener("input",u,!1),e.addEventListener("autosize:update",u,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",n.set(e,{destroy:o,update:u}),l()}function l(){var n=window.getComputedStyle(e,null);"vertical"===n.resize?e.style.resize="none":"both"===n.resize&&(e.style.resize="horizontal"),t="content-box"===n.boxSizing?-(parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)):parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth),isNaN(t)&&(t=0),u()}function s(t){var n=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=n,e.style.overflowY=t}function d(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}function b(){if(0!==e.scrollHeight){var n=d(e),r=document.documentElement&&document.documentElement.scrollTop;e.style.height="",e.style.height=e.scrollHeight+t+"px",i=e.clientWidth,n.forEach((function(e){e.node.scrollTop=e.scrollTop})),r&&(document.documentElement.scrollTop=r)}}function u(){b();var t=Math.round(parseFloat(e.style.height)),n=window.getComputedStyle(e,null),i="content-box"===n.boxSizing?Math.round(parseFloat(n.height)):e.offsetHeight;if(i<t?"hidden"===n.overflowY&&(s("scroll"),b(),i="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==n.overflowY&&(s("hidden"),b(),i="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),a!==i){a=i;var c=r("autosize:resized");try{e.dispatchEvent(c)}catch(o){}}}}function a(e){var t=n.get(e);t&&t.destroy()}function c(e){var t=n.get(e);t&&t.update()}var o=null;"undefined"===typeof window||"function"!==typeof window.getComputedStyle?((o=function(e){return e}).destroy=function(e){return e},o.update=function(e){return e}):((o=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],(function(e){return i(e,t)})),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],a),e},o.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],c),e}),t.default=o,e.exports=t.default})?r.apply(t,i):r)||(e.exports=a)},OXcl:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n("BGKE"),i=n("cpVT"),a=n("xvhg"),c=n("MX0m"),o=n.n(c),l=n("q1tI"),s=n("TSYQ"),d=n.n(s),b=n("up5I"),u=n("YGlK"),p=n("AYTL"),f=n("M85P"),h=n("IdsG"),g=n("YFqc"),j=n.n(g),m=n("20a2");function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e){var t=e.items,n=e.positions,i=void 0===n?["bottom","left"]:n,c=e.onItemClick,s=e.onOpenChange,g=e.size,v=e.orientation,x=Object(m.useRouter)(),y=l.useState(!1),w=Object(a.a)(y,2),k=w[0],P=w[1],C=l.useState(!1),N=Object(a.a)(C,2),z=N[0],E=N[1];l.useLayoutEffect((function(){E(k)}),[k]);var I=Object(f.d)({isOpen:z,items:t,onSelectedItemChange:function(e){var t=e.selectedItem;t&&(P(!1),t.link?x.push(t.link.href,t.link.as):c(t))}}),D=I.getToggleButtonProps,S=I.getMenuProps,T=I.highlightedIndex,R=I.getItemProps;return l.useEffect((function(){s&&s(k)}),[k,s]),Object(r.c)(u.a,{isOpen:k,onClickOutside:function(){z&&P(!1)},positions:i,children:[Object(r.b)(b.a,O(O({filled:!1,border:!1},D({onClick:function(){P(!k)}})),{},{children:Object(r.b)(p.a,{size:g,orientation:v})})),Object(r.c)("div",O(O({},S()),{},{className:"jsx-3625945776",children:[z?Object(r.b)("ul",{className:"jsx-3625945776",children:t.map((function(e,t){var n=T===t,i=Object(r.c)("div",{className:"jsx-3625945776 "+(d()("content",{"is-highlighted":n,"is-destructive":e.isDestructive})||""),children:[e.icon?Object(r.b)("span",{className:"jsx-3625945776 icon",children:e.icon}):null,Object(r.b)(h.a,{size:"small",children:e.label})]});return Object(r.b)("li",O(O({},R({item:e,index:t})),{},{className:"jsx-3625945776",children:e.link?Object(r.b)(j.a,O(O({},e.link),{},{children:Object(r.b)("a",{className:"jsx-3625945776",children:i})})):i}),"".concat(e.label).concat(t))}))}):null,Object(r.b)(o.a,{id:"3625945776",children:["ul.jsx-3625945776{padding:var(--space-4);min-width:120px;list-style:none;}","ul.jsx-3625945776:focus{outline:0 none;}","li.jsx-3625945776{white-space:nowrap;cursor:pointer;color:var(--foreground-default);padding:2px;}",".content.jsx-3625945776{padding:var(--space-8);border-radius:var(--border-radius-4);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".icon.jsx-3625945776{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;margin-right:var(--space-8);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}","a.jsx-3625945776{display:block;color:inherit;}","a.jsx-3625945776:hover,a.jsx-3625945776:focus,a.jsx-3625945776:active{-webkit-text-decoration:none;text-decoration:none;}",".is-highlighted.jsx-3625945776{background-color:var(--background-higher);}",".is-destructive.jsx-3625945776 *{color:var(--accent-negative-default) !important;}",".is-destructive.jsx-3625945776:hover{background-color:var(--accent-negative-default);}",".is-destructive.jsx-3625945776:hover *{color:var(--white) !important;}"]})]}))]})}},OYKG:function(e,t,n){"use strict";n.d(t,"a",(function(){return $})),n.d(t,"b",(function(){return re})),n.d(t,"c",(function(){return ie}));var r=n("dhJC"),i=n("BGKE"),a=n("z7pX"),c=n("cpVT"),o=n("xvhg"),l=n("MX0m"),s=n.n(l),d=n("q1tI"),b=n("gtzJ"),u=n("TSYQ"),p=n.n(u),f=n("V6K1"),h=n("IdsG"),g=n("xom/"),j=n("up5I"),m=n("TxNz"),v=n("V4w5"),O=n("lHiQ"),x=n("tZOq"),y=n("YFqc"),w=n.n(y),k=n("VoYB"),P=n("b518"),C=n("Tdiz"),N=n("9vYF"),z=n("Wlt/"),E=n("M85P"),I=n("tQ+K"),D=n("5zsw"),S=n("Gaen");function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U={styles:Object(i.b)(s.a,{id:"304238800",children:["div.jsx-304238800{border-radius:calc(var(--border-radius-8) * 2);color:var(--foreground-default);background-color:var(--background-higher);border:1px solid var(--background-highest);-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;line-height:100%;}"]}),className:"jsx-304238800"},_={styles:Object(i.b)(s.a,{id:"1601823018",children:["span.jsx-1601823018{padding:var(--space-4) var(--space-8);}"]}),className:"jsx-1601823018"},A={styles:Object(i.b)(s.a,{id:"57095474",children:["span.jsx-57095474{padding:var(--space-4) 0 var(--space-4) var(--space-8);}"]}),className:"jsx-57095474"};function L(e){var t=e.name,n=e.onRemoveClick,r=e.removable;return Object(i.c)(g.a,{className:U.className,wrap:"nowrap",align:"stretch",children:[Object(i.c)(h.a,{className:r?A.className:_.className,children:[Object(i.b)(h.a,{size:"xsmall",foreground:2,children:"#"}),Object(i.b)(h.a,{size:"xsmall",foreground:1,children:t})]}),r?Object(i.b)("div",{className:"jsx-477340038 button-wrap",children:Object(i.b)("button",{onClick:n,className:"jsx-477340038",children:Object(i.b)(D.a,{})})}):null,U.styles,r?A.styles:_.styles,Object(i.b)(s.a,{id:"477340038",children:[".button-wrap.jsx-477340038,button.jsx-477340038{display:block;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}","button.jsx-477340038{width:24px;color:var(--foreground-default);background-color:transparent;border:0 none;cursor:pointer;}","button.jsx-477340038:hover{color:var(--accent-primary-default);}","button.jsx-477340038:active,button.jsx-477340038:hover{outline:0 none;border-color:var(--accent-primary-dimmer);}"]})]})}var M=/^[0-9a-zA-Z]+$/;function W(e){var t=e.replId,n=e.initialTags,r=e.max,c=e.onChange,l=d.useState(n),b=Object(o.a)(l,2),u=b[0],f=b[1],j=d.useState([]),m=Object(o.a)(j,2),v=m[0],O=m[1],y=d.useState(!1),w=Object(o.a)(y,2),k=w[0],P=w[1],C=d.useState(""),N=Object(o.a)(C,2),D=N[0],T=N[1],U=d.useRef(null),_=Object(z.a)(D,100);Object(x.dg)({variables:{replId:t,search:_},onCompleted:function(e){O("SuggestedTagsResult"===e.suggestedTags.__typename?e.suggestedTags.tags:[])}});var A=u.map((function(e){return e.id})),W=v.filter((function(e){return!A.includes(e.id)}))||[],B=d.useRef(!0);d.useEffect((function(){B.current&&(B.current=!1),c(u)}),[u,c]);var F=Object(E.c)({inputValue:D,items:W,defaultHighlightedIndex:0,itemToString:function(e){return e?e.id:""},onSelectedItemChange:function(e){if(e.selectedItem){var t=e.selectedItem;f([].concat(Object(a.a)(u),[t])),T(""),F.reset(),U.current&&(U.current.focus(),F.openMenu())}}}),G="a-zA-Z0-9";return Object(i.c)("div",{className:"jsx-4162972321",children:[Object(i.c)("div",{className:"jsx-4162972321 tag-selector",children:[u.map((function(e,t){return Object(i.b)("div",{className:"jsx-4162972321 tag",children:Object(i.b)(L,{removable:!0,name:e.id,onRemoveClick:function(){f([].concat(Object(a.a)(u.slice(0,t)),Object(a.a)(u.slice(t+1))))}})},e.id)})),u.length<r?Object(i.c)("div",R(R({},F.getComboboxProps({onClick:function(){U.current&&U.current.focus()}})),{},{className:"jsx-4162972321 "+(p()("input-tag",{"is-focused":k})||""),children:[k?Object(i.b)(h.a,{foreground:2,children:"#"}):null,Object(i.c)("div",{className:"jsx-4162972321 input-wrap",children:[k?Object(i.b)("span",{className:"jsx-4162972321 input-value-sizer",children:Object(i.b)(h.a,{children:_||G})}):Object(i.c)("span",{className:"jsx-4162972321 add-cta",children:[Object(i.b)(S.a,{size:"small"})," ",Object(i.b)("span",{className:"jsx-4162972321",children:"Add a tag"})]}),Object(i.b)("input",R(R({},F.getInputProps({placeholder:k?G:"",ref:U,onKeyDown:function(e){"Enter"!==e.key||!e.currentTarget.value||W.length||A.includes(e.currentTarget.value)?"Backspace"===e.key&&!e.currentTarget.value&&u.length&&f(u.slice(0,u.length-1)):F.selectItem({id:e.currentTarget.value,replCount:0})},onChange:function(e){var t=e.currentTarget.value;t?M.test(t)&&(t.length>30||T(t)):T("")},onFocus:function(){P(!0),F.openMenu()},onBlur:function(e){P(!1),W.length?T(""):e.currentTarget.value&&(A.includes(e.currentTarget.value)||(F.selectItem({id:e.currentTarget.value,replCount:0}),T("")))}})),{},{className:"jsx-4162972321"}))]}),W.length&&F.isOpen?Object(i.b)("ul",{className:"jsx-4162972321",children:W.map((function(e,t){return Object(i.b)("li",R(R({},F.getItemProps({item:e,index:t})),{},{className:"jsx-4162972321 "+(p()("item",{active:F.highlightedIndex===t})||""),children:Object(i.b)("div",{className:"jsx-4162972321",children:Object(i.b)("div",{className:"jsx-4162972321 block-text",children:Object(i.c)(g.a,{wrap:"nowrap",justify:"space-between",align:"center",spacing:1,children:[Object(i.c)("div",{className:"jsx-4162972321",children:[Object(i.b)(h.a,{foreground:2,children:"#"}),_?Object(i.b)(I.c,{source:e.id,match:_,style:{color:"var(--foreground-dimmer)"}}):e.id," "]}),e.replCount?Object(i.c)(h.a,{size:"xsmall",foreground:2,children:[e.replCount," repl",1===e.replCount?"":"s"]}):null]})})})}),e.id)}))}):null]})):null]}),Object(i.b)(s.a,{id:"4162972321",children:[".tag-selector.jsx-4162972321{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin:calc(-1 * var(--space-4));}",".input-tag.jsx-4162972321,.tag.jsx-4162972321{margin:var(--space-4);}",".input-tag.jsx-4162972321{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;align:stretch;background-color:var(--background-root);border-radius:calc(var(--border-radius-8) * 2);line-height:100%;padding:var(--space-4) var(--space-8);border:1px solid var(--background-highest);-webkit-transition:border-color 0.1s,background-color 0.1s;transition:border-color 0.1s,background-color 0.1s;position:relative;cursor:pointer;}",".input-tag.jsx-4162972321:hover{border-color:var(--accent-primary-default);}",".input-tag.is-focused.jsx-4162972321{cursor:text;border-color:var(--accent-primary-default);background-color:var(--background-default);}",".add-cta.jsx-4162972321{color:var(--accent-primary-default);font-size:var(--font-size-small);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".add-cta.jsx-4162972321>span.jsx-4162972321{padding-left:var(--space-4);}","input.jsx-4162972321:focus.jsx-4162972321::-webkit-input-placeholder{color:var(--foreground-dimmest);}","input.jsx-4162972321:focus.jsx-4162972321::-moz-placeholder{color:var(--foreground-dimmest);}","input.jsx-4162972321:focus.jsx-4162972321:-ms-input-placeholder{color:var(--foreground-dimmest);}","input.jsx-4162972321:focus.jsx-4162972321::placeholder{color:var(--foreground-dimmest);}",".input-wrap.jsx-4162972321{position:relative;}",".input-value-sizer.jsx-4162972321{visibility:hidden;}","input.jsx-4162972321{font-size:var(--font-size-small);font-family:inherit;font-weight:inherit;cursor:inherit;color:var(--foreground-default);background-color:transparent;position:absolute;top:0;left:0;width:100%;height:100%;padding:0;border:0 none;}","input.jsx-4162972321:active,input.jsx-4162972321:focus{outline:none;}","input.jsx-4162972321::-webkit-input-placeholder{color:var(--foreground-dimmer);}","input.jsx-4162972321::-moz-placeholder{color:var(--foreground-dimmer);}","input.jsx-4162972321:-ms-input-placeholder{color:var(--foreground-dimmer);}","input.jsx-4162972321::placeholder{color:var(--foreground-dimmer);}","ul.jsx-4162972321{position:absolute;top:100%;left:0;z-index:10;background-color:var(--background-higher);border:1px solid var(--outline-dimmest);border-radius:var(--border-radius-4);font-family:var(--font-family-default);margin-top:var(--space-8);padding:var(--space-4);list-style:none;box-shadow:0 0 2.5px var(--outline-dimmest) inset;max-height:200px;overflow:auto;}","ul.jsx-4162972321:focus{outline:0 none;}","li.jsx-4162972321{width:100%;cursor:pointer;list-style:none;padding:var(--space-8) var(--space-4);border-radius:var(--border-radius-4);color:var(--foreground-default);font-size:var(--font-size-small);font-weight:var(--font-weight-medium);white-space:nowrap;}",".active.jsx-4162972321{background-color:var(--accent-primary-dimmer);}"]})]})}var B=n("zgDP"),F=n("0LUh");function G(e){var t=e.onContinue;return Object(i.c)(g.b,{spacing:3,align:"end",children:[Object(i.c)(g.b,{spacing:2,align:"stretch",children:[Object(i.c)(g.b,{spacing:1,children:[Object(i.b)(f.a,{level:3,fontWeight:"medium",children:"Publish"}),Object(i.b)("h3",{className:"jsx-1513705162 subtitle",children:"Publish your first repl to Apps!"})]}),Object(i.b)("img",{src:"/public/images/apps-intro.jpg",className:"jsx-1513705162"}),Object(i.b)(h.a,{foreground:2,children:"Apps is where you can easily browse and share repls for others to run, comment, and fork."}),Object(i.b)(h.a,{foreground:2,children:"Please take a moment to review our publishing guidelines and remember to be kind, constructive, and creative!"}),Object(i.c)("a",{target:"_blank",rel:"noopener",href:"https://docs.replit.com/repls/apps-and-publishing",className:"jsx-1513705162 guidelines-link",children:[Object(i.b)("span",{className:"jsx-1513705162 icon-container",children:Object(i.b)(F.a,{})}),"Read the publishing guidelines"]})]}),Object(i.b)(g.a,{children:Object(i.b)(j.a,{filled:!0,color:"primary",onClick:function(){return t()},children:"Continue"})}),Object(i.b)(s.a,{id:"1513705162",children:["img.jsx-1513705162{width:100%;border-radius:var(--border-radius-4);}",".guidelines-link.jsx-1513705162{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding:var(--space-8);background-color:var(--accent-primary-dimmest);color:var(--accent-primary-default);font-weight:var(--font-weight-medium);width:100%;border-radius:var(--border-radius-4);margin:var(--space-8) 0;}",".subtitle.jsx-1513705162{font-size:var(--font-size-subhead-default);color:var(--accent-primary-default);font-weight:var(--font-weight-medium);}",".icon-container.jsx-1513705162{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--space-4);}"]})]})}var K=n("1zuD"),q=n("T0nv"),Y=n("+sxT"),V=n("vefS"),X=n("yPPK");function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(){return Object(i.c)("a",{target:"_blank",href:"https://docs.replit.com/repls/apps-and-publishing",rel:"noopener",className:"jsx-1213407808 guidelines-link",children:[Object(i.b)("span",{className:"jsx-1213407808 icon-container",children:Object(i.b)(F.a,{})}),"Guidelines",Object(i.b)(s.a,{id:"1213407808",children:[".guidelines-link.jsx-1213407808{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding:var(--space-8);background-color:var(--accent-primary-dimmest);color:var(--accent-primary-default);font-weight:var(--font-weight-medium);font-size:var(--font-size-small);border-radius:var(--border-radius-4);margin:var(--space-8) 0;}",".icon-container.jsx-1213407808{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--space-4);}"]})]})}function J(e){var t=e.value,n=e.onChange,r=e.title,a=d.useRef(null),c=d.useState(!1),l=Object(o.a)(c,2),b=l[0],u=l[1],f=d.useState(null),O=Object(o.a)(f,2),x=O[0],y=O[1],w=d.useState(t),k=Object(o.a)(w,2),P=k[0],C=k[1],N=Object(m.a)({onUpload:function(e){var t=e.url;n(t)},onUploadPreview:function(e){var t=e.dataUrl;C(t)},onError:function(e){y(e.message)}});d.useEffect((function(){C(t)}),[t]);return Object(i.c)(g.b,{spacing:2,align:"stretch",children:[Object(i.b)(X.b,{completed:Boolean(t),children:"Cover image"}),Object(i.c)("div",{onDragOver:function(e){e.preventDefault(),u(!0)},onDrop:function(e){var t,n;e.preventDefault();var r=null===(t=e.dataTransfer)||void 0===t||null===(n=t.files)||void 0===n?void 0:n[0];r&&(r.type.startsWith("image/")?(y(null),N.uploadImage(r)):y("Expected an image file"))},className:"jsx-4015375041 "+(p()("drop-area",{"is-dragging-over":b})||""),children:[P?Object(i.b)("div",{className:"jsx-4015375041 image-wrap",children:Object(i.b)("img",{src:P,alt:r,className:"jsx-4015375041"})}):null,P?null:Object(i.b)("div",{className:"jsx-4015375041 cta-content-wrap",children:Object(i.c)(g.b,{spacing:2,align:"center",children:[Object(i.b)("span",{className:"jsx-4015375041 upload-icon",children:Object(i.b)(v.a,{})}),Object(i.b)(h.a,{fontWeight:"bold",foreground:2,children:"Drag and drop a cover image"}),Object(i.b)(j.a,{onClick:function(){a.current&&a.current.click()},filled:!1,border:!1,color:"primary",children:"Or select a file"})]})}),P?Object(i.b)("div",{className:"jsx-4015375041 image-controls",children:Object(i.c)(g.b,{spacing:1,align:"end",children:[Object(i.b)(j.a,{onClick:function(e){e.stopPropagation(),a.current&&a.current.click()},children:"Change"}),x?Object(i.b)("div",{className:"jsx-4015375041 error",children:x}):null]})}):null,!P&&x?Object(i.b)("div",{className:"jsx-4015375041 error fixed",children:x}):null,Object(i.b)("input",{ref:a,accept:"image/*",type:"file",onChange:function(e){var t=e.target,n=t.validity,r=t.files;n.valid&&null!==r&&void 0!==r&&r.length&&(y(null),N.uploadImage(r[0]))},className:"jsx-4015375041"})]}),Object(i.b)(s.a,{id:"4015375041",children:[".drop-area.jsx-4015375041{position:relative;background-color:var(--background-root);height:300px;border:1px dashed var(--foreground-dimmest);border-radius:var(--border-radius-4);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}",".is-dragging-over.jsx-4015375041 .upload-icon.jsx-4015375041{-webkit-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1);color:var(--accent-primary-default);}",".upload-icon.jsx-4015375041{color:var(--foreground-dimmer);-webkit-transition:-webkit-transform 100ms ease-out;-webkit-transition:transform 100ms ease-out;transition:transform 100ms ease-out;}",".upload-icon.jsx-4015375041 svg{height:auto;width:48px;}",".image-controls.jsx-4015375041{position:absolute;top:var(--space-8);right:var(--space-8);}","input.jsx-4015375041{width:0.1px;height:0.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1;}","img.jsx-4015375041{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;border-radius:var(--border-radius-4);}",".error.jsx-4015375041{padding:var(--space-16);text-align:right;font-size:var(--font-size-default);color:var(--accent-negative-default);background-color:rgba(0,0,0,0.8);}",".error.fixed.jsx-4015375041{position:absolute;top:var(--space-8);right:var(--space-8);}"]})]})}function $(e){var t=e.replId,n=e.onDone,r=Object(x.ye)({variables:{replId:t}}).data,a="Repl"===(null===r||void 0===r?void 0:r.repl.__typename)?r.repl:null;return a?Object(i.c)(g.b,{spacing:3,align:"stretch",children:[Object(i.c)(g.b,{spacing:1,align:"stretch",children:[Object(i.c)("div",{className:"jsx-2372071523 confirmation-heading",children:[a.title," is published!"]}),Object(i.b)("div",{className:"jsx-2372071523",children:Object(i.c)(h.a,{foreground:2,children:["Now the community can comment, react, and find your repl on"," ",Object(i.b)(w.a,{as:"/apps",href:"/apps",children:Object(i.b)("a",{className:"jsx-2372071523",children:Object(i.b)("b",{className:"jsx-2372071523",children:"Apps"})})})]})})]}),Object(i.c)(g.a,{justify:"end",spacing:1,children:[Object(i.b)(j.a,{onClick:n,children:"Done"}),Object(i.b)(w.a,Q(Q({},Object(q.c)(a)),{},{children:Object(i.b)("a",{style:{textDecoration:"none"},className:"jsx-2372071523",children:Object(i.b)(j.a,{Icon:F.a,color:"primary",onClick:n,children:"Spotlight page"})})}))]}),Object(i.b)(s.a,{id:"2372071523",children:[".confirmation-heading.jsx-2372071523{font-size:var(--font-size-header-default);font-weight:var(--font-weight-bold);color:var(--accent-positive-default);}"]})]}):null}function ee(e){var t,n=e.repl,r=e.source,c=e.onDone,l=e.initialTags,s=void 0===l?[]:l,u=Object(k.a)().showError,p=d.useState(n.description||""),f=Object(o.a)(p,2),m=f[0],v=f[1],y=d.useState(n.imageUrl||null),w=Object(o.a)(y,2),C=w[0],N=w[1],z=d.useState((function(){var e=n.tags.length?n.tags:[{id:n.lang.tagName,replCount:0}];return[].concat(Object(a.a)(s),Object(a.a)(e)).slice(0,5)})),E=Object(o.a)(z,2),I=E[0],D=E[1],S=d.useState(!1!==(null===(t=n.commentSettings)||void 0===t?void 0:t.enabled)),T=Object(o.a)(S,2),R=T[0],U=T[1];d.useEffect((function(){var e;v(n.description||""),N(n.imageUrl||null),D(n.tags.length?n.tags:[{id:n.lang.tagName,replCount:0}]),U(!1!==(null===(e=n.commentSettings)||void 0===e?void 0:e.enabled))}),[n]);var _=Object(x.ze)({onCompleted:function(e){var t;if("Repl"===e.publishRepl.__typename)return Object(B.track)(B.events.POST_MADE,{source:r,isPublish:!0,title:e.publishRepl.title,description:e.publishRepl.description,isRemixed:!(null===(t=e.publishRepl.origin)||void 0===t||!t.id),coverImage:!!e.publishRepl.imageUrl}),void c({didPublish:!0});"UserError"===e.publishRepl.__typename&&u(e.publishRepl.message)},onError:function(e){b.c(e),u(Object(P.c)(e.message))}}),A=Object(o.a)(_,2),L=A[0],M=A[1].loading,F=m&&C&&I.length>=1&&I.length<=5?{replTitle:n.title,replId:n.id,description:m,imageUrl:C,enableComments:R,tags:I.map((function(e){return e.id}))}:null,G=M||!F;return Object(i.b)("form",{onSubmit:function(e){e.preventDefault(),F&&L({variables:{input:F}})},children:Object(i.c)(g.b,{spacing:4,align:"stretch",children:[Object(i.b)(X.a,{placeholder:"Explain a little bit about what this repl is.",value:m,onChange:v}),Object(i.b)(J,{value:C,onChange:N,title:n.title}),Object(i.c)(g.b,{spacing:1,align:"stretch",children:[Object(i.c)(X.b,{completed:I.length>=1,children:["Tags"," ",I.length?Object(i.b)(h.a,{foreground:2,children:I.length}):null]}),Object(i.b)(W,{replId:n.id,initialTags:I,onChange:D,max:5}),Object(i.c)(h.a,{size:"small",foreground:2,children:[I.length<1?Object(i.c)(i.a,{children:["Add at least ",Object(i.b)("b",{children:1})," tag",""]}):null,I.length>=1&&I.length<5?Object(i.c)(i.a,{children:["Add up to ",Object(i.b)("b",{children:5-I.length})," more tag",5-I.length===1?"":"s"]}):null,5===I.length?Object(i.b)(i.a,{children:"You have added the maximum number of tags"}):null]})]}),Object(i.c)(g.a,{align:"center",spacing:2,justify:"space-between",children:[Object(i.b)(h.a,{children:"Allow comments"}),Object(i.b)(O.a,{isOn:R,onChange:function(){return U((function(e){return!e}))}})]}),Object(i.c)(g.a,{align:"center",spacing:1,justify:"end",children:[Object(i.b)(j.a,{filled:!1,border:!1,onClick:function(){return c({didPublish:!1})},children:"Cancel"}),Object(i.b)(j.a,{color:"primary",disabled:G,type:"submit",children:M?"Publishing...":Object(i.c)(i.a,{children:["Publish",n.lastPublishedAt?" update":""]})})]})]})})}function te(e){var t=e.onDone,n=e.initialTags,r=d.useState(null),a=Object(o.a)(r,2),c=a[0],l=a[1],s=d.useState(""),b=Object(o.a)(s,2),u=b[0],p=b[1];return Object(x.ye)({variables:{replId:u},skip:!u,onCompleted:function(e){"Repl"===(null===e||void 0===e?void 0:e.repl.__typename)?l(e.repl):l(null)}}),Object(i.c)(g.b,{spacing:4,align:"stretch",children:[Object(i.c)(g.b,{spacing:1,align:"stretch",children:[Object(i.c)(g.a,{align:"center",justify:"space-between",children:[Object(i.b)(f.a,{level:3,children:"Publish"}),Object(i.b)(H,{})]}),Object(i.b)(C.a,{onSelect:function(e){return p(e.id)}})]}),c?Object(i.b)(ne,{initialTags:n,replId:c.id,onDone:function(e){return t({didPublish:e.didPublish,kind:e.kind,replId:c.id})},source:"apps"}):Object(i.c)(g.a,{align:"center",spacing:2,justify:"end",children:[Object(i.b)(j.a,{filled:!1,border:!1,onClick:function(){return t({didPublish:!1,kind:x.z.App})},children:"Cancel"}),Object(i.b)(j.a,{color:"primary",disabled:!0,children:"Publish"})]})]})}function ne(e){var t=e.replId,n=e.replUrl,r=e.onDone,a=e.initialTags,c=e.source,l=Object(x.ye)({variables:{replId:t,replUrl:n}}).data,s=d.useState(x.z.App),b=Object(o.a)(s,2),u=b[0],p=b[1],j="Repl"===(null===l||void 0===l?void 0:l.repl.__typename)?l.repl:null,m=null===l||void 0===l?void 0:l.currentUser;if(!j||!m)return Object(i.b)("div",{children:"Loading..."});if(j.publishedAs===x.z.Template)return Object(i.b)(V.d,{replId:j.id,onDone:function(e){var t=e.didPublish;return r({kind:x.z.Template,didPublish:t})}});var v=[x.z.App,x.z.Template];return j?Object(i.c)(g.b,{spacing:2,align:"stretch",children:[m.isTemplateDeveloper&&!j.publishedAs?Object(i.b)(Y.a,{options:v,onChange:function(e){return p(v[e])},selectedOption:v.indexOf(u)}):null,u===x.z.App?Object(i.c)(g.b,{spacing:4,align:"stretch",children:[Object(i.c)(g.b,{spacing:1,align:"stretch",children:[Object(i.c)(g.a,{align:"center",justify:"space-between",children:[Object(i.c)(f.a,{level:3,children:["Publish",j.lastPublishedAt?" update":""]}),Object(i.b)(H,{})]}),Object(i.b)("div",{children:Object(i.c)(h.a,{tag:"div",foreground:2,children:["Publishing lets other people find your repl on"," ",Object(i.b)(w.a,{as:"/apps",href:"/apps",children:Object(i.b)("a",{target:"_blank",children:"Apps"})})]})})]}),Object(i.b)(ee,{initialTags:a,repl:j,onDone:function(e){var t=e.didPublish;r({didPublish:t,kind:x.z.App})},source:c})]}):null,u!==x.z.Template||j.publishedAs?null:Object(i.b)(V.b,{source:c,repl:j,onDone:function(e){var t=e.didPublish;r({didPublish:t,kind:x.z.Template})}})]}):null}function re(e){var t=e.replId,n=e.onDone,r=e.source,a=Object(K.a)("publish","publish-guidelines"),c=a.shouldDisplay,o=a.register,l=a.dismiss;return d.useEffect((function(){o()}),[o]),Object(i.b)(i.a,{children:c?Object(i.b)(G,{onContinue:l}):Object(i.b)(ne,{replId:t,source:r,onDone:n})})}function ie(e){var t=e.initialTags,n=e.children,a=Object(r.a)(e,["initialTags","children"]),c=d.useState(null),l=Object(o.a)(c,2),s=l[0],b=l[1],u=d.useState(!1),p=Object(o.a)(u,2),f=p[0],h=p[1],g=Object(K.a)("publish","publish-guidelines"),m=g.shouldDisplay,v=g.register,O=g.dismiss;return d.useEffect((function(){v()}),[v]),Object(i.c)(i.a,{children:[Object(i.b)(j.a,Q(Q({},a),{},{onClick:function(){Object(B.track)(B.events.PUBLISH_SELECTED,{source:"apps",isPublish:!0}),h(!0)},children:n})),Object(i.b)(N.c,{isOpen:f,onRequestClose:function(){return h(!1)},children:Object(i.c)(N.b,{children:[m?Object(i.b)(G,{onContinue:O}):null,null===s?Object(i.b)(te,{initialTags:t,onDone:function(e){e.didPublish?e.replId&&b({kind:e.kind,replId:e.replId}):h(!1)}}):null,(null===s||void 0===s?void 0:s.kind)===x.z.App?Object(i.b)($,{replId:s.replId,onDone:function(){h(!1)}}):null,(null===s||void 0===s?void 0:s.kind)===x.z.Template?Object(i.b)(V.a,{replId:s.replId,onDone:function(){h(!1)}}):null]})})]})}},Tdiz:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var r=n("BGKE"),i=n("cpVT"),a=n("z7pX"),c=n("xvhg"),o=n("MX0m"),l=n.n(o),s=n("q1tI"),d=n("TSYQ"),b=n.n(d),u=n("tZOq"),p=n("M85P"),f=n("IdsG"),h=n("Wlt/"),g=n("xom/"),j=n("KRxe"),m=n("nXXz"),v=n("tQ+K"),O=n("QPY3"),x=n("Zunb"),y=n("JAJ3");function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(){return Object(r.c)("div",{className:"jsx-3142563530",children:[Object(r.b)("span",{className:"jsx-3142563530"}),Object(r.b)(l.a,{id:"3142563530",children:["div.jsx-3142563530{position:relative;overflow-x:hidden;height:1px;}","span.jsx-3142563530{position:absolute;height:100%;width:50%;background-color:var(--accent-primary-default);-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-name:backAndForth-jsx-3142563530;animation-name:backAndForth-jsx-3142563530;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-direction:alternate;animation-direction:alternate;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out;-webkit-animation-fill-mode:both;animation-fill-mode:both;}","@-webkit-keyframes backAndForth-jsx-3142563530{from{left:-45%;}to{left:95%;}}","@keyframes backAndForth-jsx-3142563530{from{left:-45%;}to{left:95%;}}"]})]})}function C(e){var t,n=e.disabled,i=e.filter,o=e.manualSelect,d=e.onSelect,w=s.useState([]),C=Object(c.a)(w,2),N=C[0],z=C[1],E=s.useState(""),I=Object(c.a)(E,2),D=I[0],S=I[1],T=s.useRef(null),R=i?N.filter(i):N,U=Object(p.c)({items:R,initialHighlightedIndex:o?-1:0,itemToString:function(e){var t;return e?"".concat(null===(t=e.owner)||void 0===t?void 0:t.username,"/").concat(e.title):""}});s.useEffect((function(){return S(U.inputValue)}),[U.inputValue]);var _=Object(h.a)(D,100),A=Object(u.kf)({variables:{search:_},onCompleted:function(e){if(!e.currentUser)throw new Error("Expected currentUser");e.currentUser.replSearch?z(e.currentUser.replSearch.reduce((function(e,t){return t?[].concat(Object(a.a)(e),[t]):e}),[])):z([])}}).loading,L=Object(x.a)(d);return s.useEffect((function(){var e;U.selectedItem&&(null===(e=T.current)||void 0===e||e.blur(),L.current(U.selectedItem))}),[U.selectedItem,L]),Object(r.c)("div",{className:"jsx-826481570 "+(b()("input-row",{"is-open":U.isOpen})||""),children:[Object(r.c)("div",k(k({},U.getComboboxProps()),{},{className:"jsx-826481570",children:[Object(r.b)(j.b,k({icon:null!==(t=U.selectedItem)&&void 0!==t&&t.iconUrl&&U.inputValue?Object(r.b)(y.a,{alt:U.selectedItem.title,iconUrl:U.selectedItem.iconUrl,size:16}):void 0},U.getInputProps({ref:T,placeholder:"Search for a repl",onFocus:function(e){U.selectedItem&&(e.preventDefault(),e.currentTarget.select(),S("")),U.openMenu()}}))),Object(r.b)("div",{className:"jsx-826481570 toggle-control",children:Object(r.b)("button",k(k({type:"button"},U.getToggleButtonProps()),{},{"aria-label":"toggle menu",className:"jsx-826481570",children:Object(r.b)(m.a,{})}))})]})),Object(r.b)("div",k(k({},U.getMenuProps()),{},{className:"jsx-826481570",children:U.isOpen&&!n?Object(r.c)(r.a,{children:[A?Object(r.b)("div",{className:"jsx-826481570 loading-state",children:Object(r.b)(P,{})}):null,Object(r.c)("ul",{className:"jsx-826481570",children:[R.length||A?null:Object(r.b)("li",{className:"jsx-826481570 empty-state",children:Object(r.c)(f.a,{foreground:2,size:"small",children:["No ",N.length>0?"more ":null,"repls found"]})}),R.map((function(e,t){return Object(r.b)("li",k(k({},U.getItemProps({item:e,index:t})),{},{className:"jsx-826481570 "+(b()("item",{active:U.highlightedIndex===t})||""),children:Object(r.c)(g.a,{spacing:1,align:"center",justify:"space-between",wrap:"nowrap",children:[Object(r.c)("div",{className:"jsx-826481570 block",children:[e.iconUrl?Object(r.b)(y.a,{iconUrl:e.iconUrl,alt:e.title,size:16}):null,Object(r.b)("div",{className:"jsx-826481570 block-text",children:D?Object(r.b)(v.c,{source:e.title,match:D,style:{color:"var(--foreground-dimmer)"}}):e.title})]}),Object(r.b)("div",{className:"jsx-826481570 timestamp",children:Object(r.b)(f.a,{size:"xsmall",foreground:2,children:Object(O.a)(e.timeUpdated)})})]})}),e.id)}))]})]}):null})),Object(r.b)(l.a,{id:"826481570",children:[".input-row.jsx-826481570{position:relative;}",".input-wrap.jsx-826481570 input{padding-right:var(--space-48);}",".is-open.jsx-826481570 input:focus{border-bottom-color:transparent;}",".is-open.jsx-826481570 input:focus{border-bottom-right-radius:0;border-bottom-left-radius:0;}",".toggle-control.jsx-826481570{position:absolute;right:0;top:0;height:100%;width:var(--space-48);}","button.jsx-826481570{cursor:pointer;color:var(--foreground-default);background-color:transparent;border:0 none;width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;opacity:0.5;-webkit-transition:opacity 100ms,color 100ms;transition:opacity 100ms,color 100ms;}","button.jsx-826481570:hover{opacity:1;}","button.jsx-826481570:active,button.jsx-826481570:focus{opacity:1;outline:0 none;color:var(--accent-primary-default);}","ul.jsx-826481570{z-index:1;color:var(--foreground-default);position:absolute;top:100%;width:100%;left:0;background-color:var(--background-default);box-shadow:var(--shadow-3);border-bottom-right-radius:var(--border-radius-4);border-bottom-left-radius:var(--border-radius-4);border:1px solid var(--accent-primary-default);border-top:0 none;overflow-y:auto;max-height:400px;}","li.jsx-826481570{cursor:pointer;padding:var(--space-8);}",".loading-state.jsx-826481570{position:absolute;top:100%;width:100%;z-index:2;}","li.active.jsx-826481570{color:var(--white);background-color:var(--accent-primary-dimmer);}",".block.jsx-826481570{padding:var(--space-4) var(--space-8);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:var(--background-highest);border-radius:var(--border-radius-4);-webkit-flex:0 1 auto;-ms-flex:0 1 auto;flex:0 1 auto;overflow:hidden;}",".timestamp.jsx-826481570{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;}",".block-text.jsx-826481570{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;padding-left:var(--space-8);}",".active.jsx-826481570 .block.jsx-826481570{background-color:var(--accent-primary-default);color:var(--white);}"]})]})}},hHXw:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("BGKE"),i=n("xvhg"),a=n("MX0m"),c=n.n(a),o=n("q1tI"),l=n("JAJ3"),s=n("Wjzo"),d=n("4loE"),b=n("TxNz"),u=n("xom/"),p=n("V4w5");function f(e){var t=o.useRef(null),n=o.useState(e.value),a=Object(i.a)(n,2),f=a[0],h=a[1],g=o.useState(null),j=Object(i.a)(g,2),m=j[0],v=j[1],O=Object(b.a)({onUpload:function(t){var n=t.url;e.onChange(n)},onUploadPreview:function(e){var t=e.dataUrl;h(t)},onError:function(e){v(e.message)}});o.useEffect((function(){h(e.value)}),[e.value]);var x=null===f||void 0===f?void 0:f.startsWith("data:");return Object(r.c)(u.b,{spacing:"var(--space-4)",children:[Object(r.c)("div",{onClick:function(){var e;null===(e=t.current)||void 0===e||e.click()},"aria-label":f?"Change icon":"Upload an icon","data-microtip-position":"right",role:"tooltip",className:"jsx-813239815 "+((f?"update-icon":"add-icon")||""),children:[f?Object(r.c)(r.a,{children:[Object(r.b)(l.a,{iconUrl:f,size:32,alt:"icon"}),x?Object(r.b)("div",{className:"jsx-813239815 loading-state",children:Object(r.b)("div",{className:"jsx-813239815 loading-icon",children:Object(r.b)(d.a,{})})}):Object(r.b)("div",{className:"jsx-813239815 hover-state",children:Object(r.b)(s.a,{})})]}):Object(r.b)(p.a,{}),Object(r.b)("input",{ref:t,accept:"image/*",type:"file",onChange:function(e){var t=e.target,n=t.validity,r=t.files;n.valid&&null!==r&&void 0!==r&&r.length&&(v(null),O.uploadImage(r[0]))},className:"jsx-813239815"})]}),m?Object(r.b)("div",{className:"jsx-813239815 error",children:m}):null,Object(r.b)(c.a,{id:"813239815",children:[".add-icon.jsx-813239815{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;border:1px dashed var(--foreground-dimmest);background-color:var(--background-root);width:".concat(32,"px;height:").concat(32,"px;}"),".add-icon.jsx-813239815:hover{color:var(--accent-primary-default);border-color:var(--accent-primary-default);}",".add-icon.jsx-813239815,.update-icon.jsx-813239815{position:relative;cursor:pointer;background-color:var(--background-higher);border-radius:var(--border-radius-4);padding:2px;}",".update-icon.jsx-813239815:hover .hover-state.jsx-813239815{opacity:0.8;}",".hover-state.jsx-813239815{opacity:0;}",".loading-state.jsx-813239815{opacity:0.8;}",".loading-icon.jsx-813239815{-webkit-animation:rotate-jsx-813239815 1s linear infinite;animation:rotate-jsx-813239815 1s linear infinite;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}","@-webkit-keyframes rotate-jsx-813239815{from{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}to{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}","@keyframes rotate-jsx-813239815{from{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}to{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}",".hover-state.jsx-813239815,.loading-state.jsx-813239815{color:var(--accent-primary-default);position:absolute;top:0;left:0;width:100%;height:100%;border-radius:var(--border-radius-4);background-color:var(--background-root);overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}","input.jsx-813239815{opacity:0;position:absolute;top:0;left:0;width:100%;height:100%;z-index:-1;}",".error.jsx-813239815{font-size:var(--font-size-default);color:var(--accent-negative-default);}"]})]})}},vefS:function(e,t,n){"use strict";n.d(t,"c",(function(){return N})),n.d(t,"a",(function(){return z})),n.d(t,"b",(function(){return E})),n.d(t,"d",(function(){return I}));var r=n("xvhg"),i=n("cpVT"),a=n("BGKE"),c=n("MX0m"),o=n.n(c),l=n("q1tI"),s=n("gtzJ"),d=n("up5I"),b=n("tZOq");function u(e){var t,n,r=e.replId,i=Object(b.he)({variables:{replId:r},fetchPolicy:"cache-and-network"}),a=i.data,c=i.loading,o=i.error;if(c)return{loading:c,pendingChanges:null,error:null};if(o)return{loading:!1,pendingChanges:null,error:o};var l="Repl"===(null===a||void 0===a?void 0:a.repl.__typename)?a.repl:null;return l?{loading:!1,pendingChanges:(null===(t=l.deployment)||void 0===t||null===(n=t.activeRelease)||void 0===n?void 0:n.pendingChanges)||[],error:o}:{loading:!1,pendingChanges:null,error:new Error("Repl not found")}}var p,f=n("V6K1"),h=n("xom/"),g=n("kx/0"),j=n("IdsG"),m=n("hHXw"),v=n("yPPK"),O=n("T0nv"),x=n("0LUh"),y=n("YFqc"),w=n.n(y),k=n("b518");function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e){var t=e.replId,n=e.onClick,r=u({replId:t}),i=r.loading,c=r.error,o=r.pendingChanges;return c?Object(a.b)("div",{children:c.message}):i?Object(a.b)(d.a,{disabled:!0,children:"Loading..."}):null!==o&&void 0!==o&&o.length?Object(a.b)(d.a,{onClick:n,children:"Publish Update"}):0===(null===o||void 0===o?void 0:o.length)?Object(a.b)("div",{children:Object(a.b)(d.a,{disabled:!0,children:"Template Published"})}):null}function z(e){var t=e.replId,n=e.onDone,r=Object(b.Ae)({variables:{replId:t}}).data,i="Repl"===(null===r||void 0===r?void 0:r.repl.__typename)?r.repl:null;return i?Object(a.c)(h.b,{spacing:3,align:"stretch",children:[Object(a.c)(h.b,{spacing:1,align:"stretch",children:[Object(a.c)("div",{className:"jsx-2372071523 confirmation-heading",children:[i.title," is published!"]}),Object(a.b)("div",{className:"jsx-2372071523",children:Object(a.c)(j.a,{foreground:2,children:["Now the community can comment, react, and find your repl on"," ",Object(a.b)(w.a,{as:"/templates",href:"/templates",children:Object(a.b)("a",{className:"jsx-2372071523",children:Object(a.b)("b",{className:"jsx-2372071523",children:"Templates"})})})]})})]}),Object(a.c)(h.a,{justify:"end",spacing:1,children:[Object(a.b)(d.a,{onClick:n,children:"Done"}),Object(a.b)(w.a,C(C({},Object(O.c)(i)),{},{children:Object(a.b)("a",{style:{textDecoration:"none"},className:"jsx-2372071523",children:Object(a.b)(d.a,{Icon:x.a,color:"primary",onClick:n,children:"Spotlight page"})})}))]}),Object(a.b)(o.a,{id:"2372071523",children:[".confirmation-heading.jsx-2372071523{font-size:var(--font-size-header-default);font-weight:var(--font-weight-bold);color:var(--accent-positive-default);}"]})]}):null}function E(e){var t=e.repl,n=e.onDone,i=l.useState(null),c=Object(r.a)(i,2),o=c[0],u=c[1],p=l.useState(t.description||""),f=Object(r.a)(p,2),g=f[0],j=f[1],O=l.useState(t.iconUrl||null),x=Object(r.a)(O,2),y=x[0],w=x[1];l.useEffect((function(){j(t.description||""),w(t.iconUrl||null)}),[null===t||void 0===t?void 0:t.description,null===t||void 0===t?void 0:t.iconUrl]);var P=Object(b.Be)({onCompleted:function(e){"Repl"!==e.createReplDeployment.__typename?"UserError"===e.createReplDeployment.__typename&&u(e.createReplDeployment.message):n({didPublish:!0})},onError:function(e){s.c(e),u(Object(k.c)(e.message))}}),C=Object(r.a)(P,2),N=C[0],z=C[1].loading,E=g&&y?{replId:t.id,description:g,iconUrl:y}:null,I=z||!E;return Object(a.b)("form",{onSubmit:function(e){e.preventDefault(),E&&N({variables:{input:E}})},children:Object(a.c)(h.b,{spacing:4,align:"stretch",children:[Object(a.c)(h.b,{spacing:2,align:"stretch",children:[Object(a.b)(v.b,{completed:Boolean(y),children:"Icon"}),Object(a.b)(m.a,{value:y,onChange:w})]}),Object(a.b)(v.a,{placeholder:"Explain a little bit about what this repl is.",value:g,onChange:j}),o?Object(a.b)(D,{message:o}):null,Object(a.c)(h.a,{align:"center",spacing:1,justify:"end",children:[Object(a.b)(d.a,{filled:!1,border:!1,onClick:function(){return n({didPublish:!1})},children:"Cancel"}),Object(a.b)(d.a,{color:"primary",disabled:I,type:"submit",children:z?"Publishing...":"Publish"})]})]})})}function I(e){var t=e.replId,n=e.onDone,i=l.useState(null),c=Object(r.a)(i,2),o=c[0],s=c[1],p=u({replId:t}).pendingChanges,m=l.useState(""),O=Object(r.a)(m,2),x=O[0],y=O[1],w=Object(b.Ce)({variables:{input:{replId:t,description:x}},onCompleted:function(e){"Repl"!==e.createReplRelease.__typename?"UserError"===e.createReplRelease.__typename&&s(e.createReplRelease.message):n({didPublish:!0})}}),k=Object(r.a)(w,2),P=k[0],C=k[1];if(!p)return null;if(!p.length)return Object(a.b)("div",{children:Object(a.b)(j.a,{foreground:2,align:"center",children:"No changes to publish"})});var N=Boolean(x);return Object(a.c)(h.b,{spacing:2,align:"stretch",children:[Object(a.b)(f.a,{level:3,children:"Update Template"}),Object(a.b)(h.b,{spacing:"var(--space-4)",children:p.map((function(e){return Object(a.c)(h.a,{spacing:"var(--space-4)",align:"center",wrap:"nowrap",children:[Object(a.b)("div",{children:Object(a.b)(g.a,{})}),Object(a.b)(j.a,{truncate:!0,children:e.fileName}),Object(a.c)(j.a,{foreground:3,children:["(",S[e.changeType],")"]})]},e.fileName)}))}),Object(a.b)("form",{onSubmit:function(e){e.preventDefault(),N&&!C.loading&&(s(null),P())},children:Object(a.c)(h.b,{spacing:2,align:"stretch",children:[Object(a.b)(v.a,{placeholder:"Explain a little about this update.",value:x,onChange:y}),o?Object(a.b)(D,{message:o}):null,Object(a.c)(h.a,{align:"center",spacing:1,justify:"end",children:[Object(a.b)(d.a,{filled:!1,border:!1,onClick:function(){return n({didPublish:!1})},children:"Cancel"}),Object(a.b)(d.a,{color:"primary",disabled:!N,type:"submit",children:C.loading?"Updating...":"Publish update"})]})]})})]})}function D(e){var t=e.message;return Object(a.b)(j.a,{style:{color:"red"},children:t})}var S=(p={},Object(i.a)(p,b.I.NewFile,"new"),Object(i.a)(p,b.I.ModfiedFile,"changed"),Object(i.a)(p,b.I.DeletedFile,"deleted"),p)},yPPK:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return g}));var r=n("BGKE"),i=n("MX0m"),a=n.n(i),c=(n("q1tI"),n("TSYQ")),o=n.n(c),l=n("xom/"),s=n("IdsG"),d=n("FuyV"),b=n("DqZZ"),u=n("/nr7");function p(e){var t=e.checked;return Object(r.c)("div",{className:"jsx-4126375210 "+(o()({checked:t})||""),children:[Object(r.b)(d.a,{}),Object(r.b)(a.a,{id:"4126375210",children:["div.jsx-4126375210{color:var(--foreground-default);border-radius:50%;background-color:var(--background-highest);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:18px;height:18px;}",".checked.jsx-4126375210{background-color:var(--accent-positive-default);color:var(--white);}"]})]})}function f(e){var t=e.completed,n=e.children;return Object(r.c)(l.a,{align:"center",spacing:"4px",children:[Object(r.b)(p,{checked:t}),Object(r.b)(s.a,{fontWeight:"medium",children:n})]})}var h=["textarea.jsx-3572347145{color:var(--foreground-default);font-size:var(--font-size-small);font-family:var(--font-family-default);background-color:var(--background-root);font-family:var(--font-family-default);background-color:var(--background-root);padding:12px;display:block;min-height:60px;max-height:240px;overflow-y:scroll;width:100%;border-radius:var(--border-radius-4);border:1px solid var(--outline-dimmest);line-height:1.2em;resize:none;-webkit-transition:0.1s box-shadow,0.2s background-color,0.2s border-color;transition:0.1s box-shadow,0.2s background-color,0.2s border-color;}",".jsx-3572347145::-webkit-input-placeholder{color:var(--foreground-dimmer);}",".jsx-3572347145::-moz-placeholder{color:var(--foreground-dimmer);}",".jsx-3572347145:-ms-input-placeholder{color:var(--foreground-dimmer);}",".jsx-3572347145::placeholder{color:var(--foreground-dimmer);}","textarea.jsx-3572347145:hover{border-color:var(--accent-primary-dimmer);}","textarea.jsx-3572347145:focus,textarea.jsx-3572347145:active{outline:none;border-color:var(--accent-primary-dimmer);}","textarea.jsx-3572347145:focus{background-color:var(--background-default);color:var(--foreground-default);border-radius:var(--border-radius-4);box-shadow:var(--shadow-1);}"];function g(e){var t=e.value,n=e.onChange,i=e.placeholder,c=Object(b.a)().ref;return Object(r.c)(l.b,{spacing:1,align:"stretch",children:[Object(r.b)(f,{completed:Boolean(t),children:"Description"}),Object(r.c)(l.b,{spacing:1,align:"stretch",children:[Object(r.b)("textarea",{placeholder:i,maxLength:u.a,ref:c,value:t,onChange:function(e){var t=e.currentTarget.value;t.length>u.a||n(t)},className:"jsx-".concat(h.__hash)}),Object(r.c)(s.a,{size:"small",align:"right",foreground:2,children:[t.length,"/",u.a]})]}),Object(r.b)(a.a,{id:h.__hash,children:h})]})}h.__hash="3572347145"}}]);